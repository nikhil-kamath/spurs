<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Csmat (sprs.Sprs.Csmat)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">sprs</a> &#x00BB; <a href="../index.html">Sprs</a> &#x00BB; Csmat</nav><header class="odoc-preamble"><h1>Module <code><span>Sprs.Csmat</span></code></h1></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#sparse-matrices">Sparse Matrices</a></li><li><a href="#creation-functions">Creation Functions</a></li><li><a href="#common-matrices">Common Matrices</a></li><li><a href="#matrix-operations">Matrix Operations</a></li><li><a href="#indexing-and-iteration">Indexing and Iteration</a></li><li><a href="#modifying-and-building-matrices">Modifying and building matrices</a></li><li><a href="#miscellaneous-functions-&amp;-nice-to-haves">Miscellaneous Functions &amp; Nice-To-Haves</a></li></ul></nav></div><div class="odoc-content"><h2 id="sparse-matrices"><a href="#sparse-matrices" class="anchor"></a>Sparse Matrices</h2><p>In the CSR (Compressed Sparse Row) format, a matrix is represented by three vectors: <code>indptr</code>, <code>indices</code>, and <code>data</code>.</p><p>These vectors satisfy the following relation:</p><pre class="language-ocaml"><code>  for i in [0, nrows]:
    A(i, indices[indptr[i] .. indptr[i + 1]]) = data[indptr[i] .. indptr[i + 1]]</code></pre><p>In the CSC (Compressed Sparse Column) format, the relation becomes:</p><pre class="language-ocaml"><code>  for i in [0, ncols]:
    A(indices[indptr[i] .. indptr[i + 1]], i) = data[indptr[i] .. indptr[i + 1]]</code></pre><div class="odoc-spec"><div class="spec value anchored" id="val-other_storage"><a href="#val-other_storage" class="anchor"></a><code><span><span class="keyword">val</span> other_storage : <span><a href="../Sparse/index.html#type-compressed_storage">Sparse.compressed_storage</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Sparse/index.html#type-compressed_storage">Sparse.compressed_storage</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inner_dims"><a href="#val-inner_dims" class="anchor"></a><code><span><span class="keyword">val</span> inner_dims : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-outer_dims"><a href="#val-outer_dims" class="anchor"></a><code><span><span class="keyword">val</span> outer_dims : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_outer_dims"><a href="#val-set_outer_dims" class="anchor"></a><code><span><span class="keyword">val</span> set_outer_dims : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_inner_dims"><a href="#val-set_inner_dims" class="anchor"></a><code><span><span class="keyword">val</span> set_inner_dims : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nnz"><a href="#val-nnz" class="anchor"></a><code><span><span class="keyword">val</span> nnz : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-MatrixException"><a href="#exception-MatrixException" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">MatrixException</span> <span class="keyword">of</span> string</span></code></div></div><h2 id="creation-functions"><a href="#creation-functions" class="anchor"></a>Creation Functions</h2><div class="odoc-spec"><div class="spec value anchored" id="val-new_checked"><a href="#val-new_checked" class="anchor"></a><code><span><span class="keyword">val</span> new_checked : 
  <span><a href="../Sparse/index.html#type-compressed_storage">Sparse.compressed_storage</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-try_new_csr"><a href="#val-try_new_csr" class="anchor"></a><code><span><span class="keyword">val</span> try_new_csr : 
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-try_new_csc"><a href="#val-try_new_csc" class="anchor"></a><code><span><span class="keyword">val</span> try_new_csc : 
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_csr"><a href="#val-new_csr" class="anchor"></a><code><span><span class="keyword">val</span> new_csr : 
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p><code>new_csr indptr indices data</code> creates a new CSR matrix. Raises an exception if the inputs do not describe a valid CSR matrix.</p><p>See <a href="#val-new_csc"><code>new_csc</code></a> for the CSC equivalent.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_csc"><a href="#val-new_csc" class="anchor"></a><code><span><span class="keyword">val</span> new_csc : 
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p><code>new_csc indptr indices data</code> creates a new CSC matrix. Raises an exception if the inputs do not describe a valid CSC matrix.</p><p>See <a href="#val-new_csr"><code>new_csr</code></a> for the CSR equivalent.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_from_unsorted"><a href="#val-new_from_unsorted" class="anchor"></a><code><span><span class="keyword">val</span> new_from_unsorted : 
  <span><a href="../Sparse/index.html#type-compressed_storage">Sparse.compressed_storage</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Create a new matrix.</p><p>Returns <code>Some matrix</code> if the inputs represent a valid sparse matrix, or <code>None</code> if the inputs are invalid.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_csr_from_unsorted"><a href="#val-new_csr_from_unsorted" class="anchor"></a><code><span><span class="keyword">val</span> new_csr_from_unsorted : 
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Try to create a CSR matrix.</p><p>If necessary, the indices will be sorted.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-new_csc_from_unsorted"><a href="#val-new_csc_from_unsorted" class="anchor"></a><code><span><span class="keyword">val</span> new_csc_from_unsorted : 
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Try to create a CSC matrix.</p><p>If necessary, the indices will be sorted.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iteroi"><a href="#val-iteroi" class="anchor"></a><code><span><span class="keyword">val</span> iteroi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Iterates through the matrix, calling <code>f outer inner x</code> on each element.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_other_storage"><a href="#val-to_other_storage" class="anchor"></a><code><span><span class="keyword">val</span> to_other_storage : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a matrix mathematically equal to this one, but with the opposite storage: CSR → CSC, or CSC → CSR.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-transpose_mut"><a href="#val-transpose_mut" class="anchor"></a><code><span><span class="keyword">val</span> transpose_mut : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Transpose a matrix in-place.</p><p>Does not create a new matrix!</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-transpose"><a href="#val-transpose" class="anchor"></a><code><span><span class="keyword">val</span> transpose : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Return the transpose of this matrix, in the other format.</p><p>Does not modify the original matrix.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-csr_from_dense"><a href="#val-csr_from_dense" class="anchor"></a><code><span><span class="keyword">val</span> csr_from_dense : 
  <span><span class="optlabel">?epsilon</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>float array</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a CSR matrix from a dense matrix, ignoring elements lower than <code>epsilon</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-csc_from_dense"><a href="#val-csc_from_dense" class="anchor"></a><code><span><span class="keyword">val</span> csc_from_dense : 
  <span><span class="optlabel">?epsilon</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>float array</span> array</span> <span class="arrow">&#45;&gt;</span></span>
  <span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a CSC matrix from a dense matrix, ignoring elements less than <code>epsilon</code>.</p></div></div><h2 id="common-matrices"><a href="#common-matrices" class="anchor"></a>Common Matrices</h2><div class="odoc-spec"><div class="spec value anchored" id="val-eye_csr"><a href="#val-eye_csr" class="anchor"></a><code><span><span class="keyword">val</span> eye_csr : <span>int <span class="arrow">&#45;&gt;</span></span> <span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Identity matrix, stored as a CSR.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-eye_csc"><a href="#val-eye_csc" class="anchor"></a><code><span><span class="keyword">val</span> eye_csc : <span>int <span class="arrow">&#45;&gt;</span></span> <span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Identity matrix, stored as a CSC.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : 
  <span><a href="../Sparse/index.html#type-compressed_storage">Sparse.compressed_storage</a> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span>, string)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p>Create an empty matrix for building purposes</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zero"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a new CSR matrix representing the zero matrix.</p></div></div><h2 id="matrix-operations"><a href="#matrix-operations" class="anchor"></a>Matrix Operations</h2><div class="odoc-spec"><div class="spec value anchored" id="val-scale_inplace"><a href="#val-scale_inplace" class="anchor"></a><code><span><span class="keyword">val</span> scale_inplace : <span><span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Scale the values in a sparse matrix inplace</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-scale"><a href="#val-scale" class="anchor"></a><code><span><span class="keyword">val</span> scale : <span><span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Return a new sparse matrix, scaled by c</p></div></div><h2 id="indexing-and-iteration"><a href="#indexing-and-iteration" class="anchor"></a>Indexing and Iteration</h2><div class="odoc-spec"><div class="spec value anchored" id="val-get_outer"><a href="#val-get_outer" class="anchor"></a><code><span><span class="keyword">val</span> get_outer : 
  <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_vec_base/index.html#type-t">Sparse.Cs_vec_base.t</a></span> option</span></span></code></div><div class="spec-doc"><p>Return the inner vector at outer index <code>outer</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_outer_exn"><a href="#val-get_outer_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_outer_exn : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_vec_base/index.html#type-t">Sparse.Cs_vec_base.t</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-get_outer"><code>get_outer</code></a>, but raises an exception if the outer index is invalid.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-itero"><a href="#val-itero" class="anchor"></a><code><span><span class="keyword">val</span> itero : 
  <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_vec_base/index.html#type-t">Sparse.Cs_vec_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Calls <code>f outer v</code> on each outer dimension, where <code>v</code> is the corresponding sparse vector.</p></div></div><p>Try to find the value at the given outer and inner indices.</p><p>Returns <code>None</code> if the indexing is invalid, otherwise returns <code>Some NNZ index</code>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-nnz_index_outer_inner"><a href="#val-nnz_index_outer_inner" class="anchor"></a><code><span><span class="keyword">val</span> nnz_index_outer_inner : 
  <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sparse/Nnz_index/index.html#type-t">Sparse.Nnz_index.t</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nnz_index"><a href="#val-nnz_index" class="anchor"></a><code><span><span class="keyword">val</span> nnz_index : 
  <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../Sparse/Nnz_index/index.html#type-t">Sparse.Nnz_index.t</a> option</span></span></code></div><div class="spec-doc"><p>Find the non-zero index of the element specified by row and column.</p><p>This search is logarithmic in the number of non-zeros in the corresponding outer slice. Once available, the <code>`nnz_index`</code> type allows retrieval with O(1) complexity.</p><p>Returns <code>None</code> if the element is not found, otherwise returns <code>Some NNZ index</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_nnz"><a href="#val-get_nnz" class="anchor"></a><code><span><span class="keyword">val</span> get_nnz : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sparse/Nnz_index/index.html#type-t">Sparse.Nnz_index.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Index a sparse matrix using an <code>Nnz_index.t</code>.</p><p>Raises an exception if the index is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_nnz"><a href="#val-set_nnz" class="anchor"></a><code><span><span class="keyword">val</span> set_nnz : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sparse/Nnz_index/index.html#type-t">Sparse.Nnz_index.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Reassign an index of a sparse matrix using an <code>Nnz_index.t</code>.</p><p>Raises an exception if the index is out of bounds.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Index a sparse matrix using row and column.</p><p>Has the same complexity as <code>nnz_index</code>.</p><p>Returns <code>None</code> if the row and column are invalid, otherwise returns <code>Some value</code> at that position.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit option</span></span></code></div><div class="spec-doc"><p>Reassign an element using row and column.</p><p>Has the same complexity as <code>nnz_index</code>.</p><p>Returns <code>None</code> if the row and column are invalid, otherwise sets the value at that position.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.!!())"><a href="#val-(.!!())" class="anchor"></a><code><span><span class="keyword">val</span> (.!!()) : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sparse/Nnz_index/index.html#type-t">Sparse.Nnz_index.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.!!()&lt;-)"><a href="#val-(.!!()&lt;-)" class="anchor"></a><code><span><span class="keyword">val</span> (.!!()&lt;-) : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sparse/Nnz_index/index.html#type-t">Sparse.Nnz_index.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.@())"><a href="#val-(.@())" class="anchor"></a><code><span><span class="keyword">val</span> (.@()) : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(.@()&lt;-)"><a href="#val-(.@()&lt;-)" class="anchor"></a><code><span><span class="keyword">val</span> (.@()&lt;-) : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><h2 id="modifying-and-building-matrices"><a href="#modifying-and-building-matrices" class="anchor"></a>Modifying and building matrices</h2><div class="odoc-spec"><div class="spec value anchored" id="val-append_outer"><a href="#val-append_outer" class="anchor"></a><code><span><span class="keyword">val</span> append_outer : 
  <span><span class="optlabel">?epsilon</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>float array</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Append an outer dimension to an existing matrix, extending the size of the outer dimension by one.</p><p>Raises an exception if the vector to add does not have compatible dimension.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert_outer_inner"><a href="#val-insert_outer_inner" class="anchor"></a><code><span><span class="keyword">val</span> insert_outer_inner : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-insert"><a href="#val-insert" class="anchor"></a><code><span><span class="keyword">val</span> insert : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Insert an element in the matrix. If the element is already present, its value is overwritten.</p><p>This is not an efficient operation. <b>However, it is efficient if the elements are inserted in order</b> according to the formatting (for example, row-by-row for CSR matrices)</p><p><i>If the index is out of bounds, the matrix will be resized to the necessary size.</i></p></div></div><h2 id="miscellaneous-functions-&amp;-nice-to-haves"><a href="#miscellaneous-functions-&amp;-nice-to-haves" class="anchor"></a>Miscellaneous Functions &amp; Nice-To-Haves</h2><div class="odoc-spec"><div class="spec value anchored" id="val-density"><a href="#val-density" class="anchor"></a><code><span><span class="keyword">val</span> density : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Returns the density (proportion non-zero) of a matrix</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-diag"><a href="#val-diag" class="anchor"></a><code><span><span class="keyword">val</span> diag : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_vec_base/index.html#type-t">Sparse.Cs_vec_base.t</a></span></span></code></div><div class="spec-doc"><p>Get the diagonal of a sparse matrix. <i>Returns as a sparse vector</i></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-into_csr"><a href="#val-into_csr" class="anchor"></a><code><span><span class="keyword">val</span> into_csr : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a new CSR matrix equivalent to this one. If this is a CSR matrix, it is returned as a value. For a version that copies, see <a href="#val-to_csr"><code>to_csr</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_csr"><a href="#val-to_csr" class="anchor"></a><code><span><span class="keyword">val</span> to_csr : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a new CSR matrix equivalent to this one. If this is a CSR matrix, create a copy.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-into_csc"><a href="#val-into_csc" class="anchor"></a><code><span><span class="keyword">val</span> into_csc : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a new CSC matrix equivalent to this one. If this is a CSC matrix, it is returned as a value. For a version that copies, see <a href="#val-to_csc"><code>to_csc</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_csc"><a href="#val-to_csc" class="anchor"></a><code><span><span class="keyword">val</span> to_csc : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Create a new CSC matrix equivalent to this one. If this is a CSC matrix, create a copy.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_csr"><a href="#val-is_csr" class="anchor"></a><code><span><span class="keyword">val</span> is_csr : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the input matrix is in CSR format</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_csc"><a href="#val-is_csc" class="anchor"></a><code><span><span class="keyword">val</span> is_csc : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the input matrix is in CSC format</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Returns a new sparse matrix with the elements mapped by <code>f</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map_inplace"><a href="#val-map_inplace" class="anchor"></a><code><span><span class="keyword">val</span> map_inplace : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Maps <code>f</code> over the sparse matrix in-place.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-max_outer_nnz"><a href="#val-max_outer_nnz" class="anchor"></a><code><span><span class="keyword">val</span> max_outer_nnz : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the maximum number of nonzeros in each outer dimension</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_dense"><a href="#val-to_dense" class="anchor"></a><code><span><span class="keyword">val</span> to_dense : <span><span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>float array</span> array</span></span></code></div><div class="spec-doc"><p>Converts into a dense matrix.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-degrees"><a href="#val-degrees" class="anchor"></a><code><span><span class="keyword">val</span> degrees : <span><span><span class="type-var">'a</span> <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int array</span></span></code></div><div class="spec-doc"><p>Returns a vector containing the degree of each vertex, ie the number of neighbors of each vertex. We do not count diagonal entries as a neighbor.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_inner_onehot"><a href="#val-to_inner_onehot" class="anchor"></a><code><span><span class="keyword">val</span> to_inner_onehot : <span><span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>float <a href="../Sparse/Cs_mat_base/index.html#type-t">Sparse.Cs_mat_base.t</a></span></span></code></div><div class="spec-doc"><p>Generate a one-hot matrix, compressing the inner dimension.</p><p>Returns a matrix with the same size, the same CSR/CSC type, and a single value of 1.0 within each <i>populated</i> inner vector.</p></div></div></div></body></html>
